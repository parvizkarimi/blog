{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
	<div class="row">
		<div class="col-4 col-lg-3 col-xl-2">
			<h3 class="my-1 ms-2">Catégories</h3>
			<ul class="list-group">
				{% for category in categories %}
					<a href="{{path('articles_by_category', {id: category.id})}}" class="text-decoration-none ">
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<span class="text-secondary">

								{{category.title}}
							</span>
							<span class="badge  bg-primary rounded-pill">{{category.articles|length}}</span>
						</li>
					</a>
				{% endfor %}
			</ul>
		</div>
		<div class="col-8 col-lg-9 col-xl-10">
			<div class="row">
				{% set i = 1 %}
				{% for article in articles %}

					<div class="card text-white bg-light mb-3 col-6 col-md-4 mx-auto" style="max-width: 20rem;">
						<h3 class="mx-auto  text-dark">{{article.title}}</h3>
						<div class="card-body">
							<a href="{{path('article_show', {id: article.id})}}">

								<img class="w-100" src="https://picsum.photos/300/200?random={{i}}" alt="{{article.title}}">
							</a>
							<p class="card-text text-dark">{{article.content|slice(0, 55) ~ '...'}}
								<br>
								Publiéé:
								{{article.createdAt|date('d M Y')}}
								<br>
								Par:
								{{article.user}}
							</p>

						</div>
					</div>
					{% set i=i+1 %}
				{% endfor %}
			</div>
		</div>
	</div>
{% endblock %}
